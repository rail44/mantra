# Known Issues

## プロジェクトコンテキスト収集の問題

### パッケージ修飾子の不要な追加
- **問題**: `go/packages`を使用した型解析時に、同一パッケージ内の型にも不要なパッケージ修飾子が追加される（例: `Entity` → `testpattern.Entity`）
- **影響**: 生成されたコードがコンパイルエラーになり、手動修正が必要

### 変数定義が収集されない
- **問題**: `var ErrNotFound = ...` のような変数定義（特にエラー定義）がコンテキストに含まれない
- **影響**: カスタムエラーを参照するコードが正しく生成できず、未定義エラーになる

### go.modがないディレクトリでの動作
- **問題**: `go/packages`がgo.modを必要とするため、簡単なテストケースで動作しない
- **影響**: プロジェクトコンテキスト収集が失敗し、他ファイルの型定義が参照できない

## 生成コードの解析エラー

### 複雑な実装の解析失敗
- **問題**: 生成されたコードのAST解析が失敗することがある（例: `expected ';', found 'uuid'`）
- **影響**: 一部の関数の生成が失敗し、ファイル全体の生成が中断される

### メソッドから関数への変換時の問題
- **問題**: レシーバを持つメソッドを関数に変換する際、ASTの操作が複雑
- **影響**: 生成されたコードの構造が崩れ、不正なGoコードが出力される

## インポート管理の問題

### 使用されているインポートの判定精度
- **問題**: 実際に使用されているパッケージの判定が不完全
- **影響**: 必要なインポートが含まれずコンパイルエラー、または不要なインポートによる警告

## エラーハンドリング

### 部分的な生成失敗時の処理
- **問題**: 1つの関数の生成に失敗すると、ファイル全体の生成が失敗する
- **影響**: 他の正常に生成できる関数も出力されず、開発効率が低下

## デバッグとトラブルシューティング

### 生成されるプロンプトの確認方法
- **問題**: どのようなプロンプトが生成されているか確認する簡単な方法がない
- **影響**: 生成結果が期待と異なる場合の原因調査が困難

### チェックサムの詳細表示
- **問題**: チェックサムがどのように計算されているか不透明
- **影響**: 再生成が必要と判定された理由が分からない

## パフォーマンス

### 重複したコンテキスト収集
- **問題**: 各関数の生成時に毎回プロジェクトコンテキストを収集している
- **影響**: 大規模プロジェクトでの生成時間が長くなる

## 生成品質

### プロジェクト固有のコーディングスタイル
- **問題**: プロジェクト固有のコーディングスタイルやパターンが反映されにくい
- **影響**: 生成されたコードがプロジェクトの規約に沿わず、手動修正が必要

### テストコードの参照
- **問題**: テストコードから実装パターンを学習する機能がない
- **影響**: テストで期待される動作と異なる実装が生成される可能性